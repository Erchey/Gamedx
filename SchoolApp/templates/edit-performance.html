{% include 'layout.html' %}

<div class="container">
    <div class="card">
        <div class="card-header">
            Edit Student Performance
        </div>
        {% if msg %} 
           {% if msg == 'Performance record updated successfully' %}
           <div class="alert alert-success" role="alert">
                {{msg}}
           </div>
           {% else %}
           <div class="alert alert-danger" role="alert">
                {{msg}}
           </div>
           {% endif %}
           {% endif %}

        <div class="card-body">
            <form method="post" action="/dashboard/teacher/{{user.id}}/edit-performance/{{performance.id}}">
                <!-- Student ID -->
                <div class="form-group">
                    <label>Student ID</label>
                    <input type="text" class="form-control" name="student_id" value="{{performance.student_username}}" required>
                </div>
                <!-- Subject Name -->
                <div class="form-group">
                    <label>Subject</label>
                    <input type="text" class="form-control" name="subject_name" value="{{performance.subject_name}}" required>
                </div>

                <!-- Exam Date -->
                <div class="form-group">
                    <label>Exam Date</label>
                    <input type="date" class="form-control" name="exam_date" value="{{performance.exam_date}}" required>
                </div>

                <!-- Exam Type -->
                <div class="form-group">
                    <label>Exam Type</label>
                    <select class="form-control" name="exam_type">
                        <option {% if performance.exam_type == 'mid' %} selected="selected" {% endif %}>Midterm</option>
                        <option {% if performance.exam_type == 'final' %} selected="selected" {% endif %}>Final</option>
                        <option {% if performance.exam_type == 'quiz' %} selected="selected" {% endif %}>Quiz</option>
                        <option {% if performance.exam_type == 'assignment' %} selected="selected" {% endif %}>Assignment</option>
                        <option {% if performance.exam_type == 'mock' %} selected="selected" {% endif %}>Mock</option>
                        <option {% if performance.exam_type == 'wassce' %} selected="selected" {% endif %}>WASSCE</option>
                    </select>
                </div>

                <!-- Performance Score -->
                <div class="form-group">
                    <label>Performance</label>
                    <input type="number" class="form-control" name="performance" value="{{performance.performance}}" required>
                </div>

                <!-- Submit and Delete Buttons -->
                <button type="submit" class="btn btn-primary">Edit Performance</button>
            </form>
        </div>   
            <!-- Delete Button -->
            
            <div class="card"></div>
            <form method="post" action="/dashboard/teacher/{{user.id}}/performance/{{performance.id}}">
                <button type="submit" class="btn btn-danger">Delete</button>
            </form></div>
       
    </div>
</div>